<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weekly Action Plan - Jordaaan's Planner</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Energy-based weekly task planning with timer tracking">
    <meta name="theme-color" content="#6366f1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Planner">
    <link rel="manifest" href="/manifest.json">
    <link rel="apple-touch-icon" href="/icon-192.png">
    
    <style>
/*! tailwindcss v4.1.17 | MIT License | https://tailwindcss.com */
@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-space-y-reverse:0;--tw-border-style:solid;--tw-gradient-position:initial;--tw-gradient-from:#0000;--tw-gradient-via:#0000;--tw-gradient-to:#0000;--tw-gradient-stops:initial;--tw-gradient-via-stops:initial;--tw-gradient-from-position:0%;--tw-gradient-via-position:50%;--tw-gradient-to-position:100%;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000}}}@layer theme{:root,:host{--font-sans:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--color-red-100:oklch(93.6% .032 17.717);--color-red-700:oklch(50.5% .213 27.518);--color-amber-50:oklch(98.7% .022 95.277);--color-amber-100:oklch(96.2% .059 95.617);--color-amber-600:oklch(66.6% .179 58.318);--color-amber-800:oklch(47.3% .137 46.201);--color-yellow-100:oklch(97.3% .071 103.193);--color-yellow-700:oklch(55.4% .135 66.442);--color-green-100:oklch(96.2% .044 156.743);--color-green-700:oklch(52.7% .154 150.069);--color-emerald-50:oklch(97.9% .021 166.113);--color-emerald-600:oklch(59.6% .145 163.225);--color-emerald-800:oklch(43.2% .095 166.913);--color-cyan-50:oklch(98.4% .019 200.873);--color-cyan-600:oklch(60.9% .126 221.723);--color-cyan-800:oklch(45% .085 224.283);--color-blue-50:oklch(97% .014 254.604);--color-blue-100:oklch(93.2% .032 255.585);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-800:oklch(42.4% .199 265.638);--color-indigo-50:oklch(96.2% .018 272.314);--color-indigo-100:oklch(93% .034 272.788);--color-indigo-300:oklch(78.5% .115 274.713);--color-indigo-500:oklch(58.5% .233 277.117);--color-indigo-600:oklch(51.1% .262 276.966);--color-indigo-700:oklch(45.7% .24 277.023);--color-indigo-800:oklch(39.8% .195 277.366);--color-purple-50:oklch(97.7% .014 308.299);--color-purple-100:oklch(94.6% .033 307.174);--color-purple-600:oklch(55.8% .288 302.321);--color-purple-800:oklch(43.8% .218 303.724);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-white:#fff;--spacing:.25rem;--container-6xl:72rem;--text-xs:.75rem;--text-xs--line-height:calc(1/.75);--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-lg:1.125rem;--text-lg--line-height:calc(1.75/1.125);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--text-3xl:1.875rem;--text-3xl--line-height:calc(2.25/1.875);--font-weight-normal:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--radius-lg:.5rem;--radius-xl:.75rem;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-sans);--default-mono-font-family:var(--font-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab, red, red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){appearance:button}::file-selector-button{appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.container{width:100%}@media (min-width:40rem){.container{max-width:40rem}}@media (min-width:48rem){.container{max-width:48rem}}@media (min-width:64rem){.container{max-width:64rem}}@media (min-width:80rem){.container{max-width:80rem}}@media (min-width:96rem){.container{max-width:96rem}}.mx-auto{margin-inline:auto}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mt-4{margin-top:calc(var(--spacing)*4)}.mt-8{margin-top:calc(var(--spacing)*8)}.mb-1{margin-bottom:calc(var(--spacing)*1)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-3{margin-bottom:calc(var(--spacing)*3)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.ml-2{margin-left:calc(var(--spacing)*2)}.block{display:block}.flex{display:flex}.grid{display:grid}.h-2{height:calc(var(--spacing)*2)}.h-5{height:calc(var(--spacing)*5)}.h-16{height:calc(var(--spacing)*16)}.min-h-screen{min-height:100vh}.w-5{width:calc(var(--spacing)*5)}.w-16{width:calc(var(--spacing)*16)}.w-full{width:100%}.max-w-6xl{max-width:var(--container-6xl)}.flex-1{flex:1}.cursor-pointer{cursor:pointer}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.items-center{align-items:center}.items-start{align-items:flex-start}.justify-between{justify-content:space-between}.gap-2{gap:calc(var(--spacing)*2)}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}:where(.space-y-2>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*2)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*2)*calc(1 - var(--tw-space-y-reverse)))}.rounded{border-radius:.25rem}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-xl{border-radius:var(--radius-xl)}.border{border-style:var(--tw-border-style);border-width:1px}.border-t{border-top-style:var(--tw-border-style);border-top-width:1px}.border-amber-100{border-color:var(--color-amber-100)}.border-blue-100{border-color:var(--color-blue-100)}.border-gray-100{border-color:var(--color-gray-100)}.border-gray-300{border-color:var(--color-gray-300)}.border-indigo-300{border-color:var(--color-indigo-300)}.border-purple-100{border-color:var(--color-purple-100)}.bg-amber-50{background-color:var(--color-amber-50)}.bg-blue-50{background-color:var(--color-blue-50)}.bg-cyan-50{background-color:var(--color-cyan-50)}.bg-emerald-50{background-color:var(--color-emerald-50)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-700{background-color:var(--color-gray-700)}.bg-green-100{background-color:var(--color-green-100)}.bg-indigo-50{background-color:var(--color-indigo-50)}.bg-indigo-100{background-color:var(--color-indigo-100)}.bg-purple-50{background-color:var(--color-purple-50)}.bg-red-100{background-color:var(--color-red-100)}.bg-white{background-color:var(--color-white)}.bg-white\/50{background-color:#ffffff80}@supports (color:color-mix(in lab, red, red)){.bg-white\/50{background-color:color-mix(in oklab,var(--color-white)50%,transparent)}}.bg-white\/80{background-color:#fffc}@supports (color:color-mix(in lab, red, red)){.bg-white\/80{background-color:color-mix(in oklab,var(--color-white)80%,transparent)}}.bg-yellow-100{background-color:var(--color-yellow-100)}.bg-gradient-to-r{--tw-gradient-position:to right in oklab;background-image:linear-gradient(var(--tw-gradient-stops))}.from-indigo-500{--tw-gradient-from:var(--color-indigo-500);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.to-purple-600{--tw-gradient-to:var(--color-purple-600);--tw-gradient-stops:var(--tw-gradient-via-stops,var(--tw-gradient-position),var(--tw-gradient-from)var(--tw-gradient-from-position),var(--tw-gradient-to)var(--tw-gradient-to-position))}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-5{padding:calc(var(--spacing)*5)}.p-6{padding:calc(var(--spacing)*6)}.px-2{padding-inline:calc(var(--spacing)*2)}.py-0\.5{padding-block:calc(var(--spacing)*.5)}.py-1{padding-block:calc(var(--spacing)*1)}.pt-3{padding-top:calc(var(--spacing)*3)}.text-right{text-align:right}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-3xl{font-size:var(--text-3xl);line-height:var(--tw-leading,var(--text-3xl--line-height))}.text-lg{font-size:var(--text-lg);line-height:var(--tw-leading,var(--text-lg--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xs{font-size:var(--text-xs);line-height:var(--tw-leading,var(--text-xs--line-height))}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-normal{--tw-font-weight:var(--font-weight-normal);font-weight:var(--font-weight-normal)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.text-amber-600{color:var(--color-amber-600)}.text-amber-800{color:var(--color-amber-800)}.text-blue-600{color:var(--color-blue-600)}.text-blue-800{color:var(--color-blue-800)}.text-cyan-600{color:var(--color-cyan-600)}.text-cyan-800{color:var(--color-cyan-800)}.text-emerald-600{color:var(--color-emerald-600)}.text-emerald-800{color:var(--color-emerald-800)}.text-gray-200{color:var(--color-gray-200)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-600{color:var(--color-gray-600)}.text-gray-700{color:var(--color-gray-700)}.text-gray-800{color:var(--color-gray-800)}.text-gray-900{color:var(--color-gray-900)}.text-green-700{color:var(--color-green-700)}.text-indigo-100{color:var(--color-indigo-100)}.text-indigo-600{color:var(--color-indigo-600)}.text-indigo-700{color:var(--color-indigo-700)}.text-indigo-800{color:var(--color-indigo-800)}.text-purple-600{color:var(--color-purple-600)}.text-purple-800{color:var(--color-purple-800)}.text-red-700{color:var(--color-red-700)}.text-white{color:var(--color-white)}.text-yellow-700{color:var(--color-yellow-700)}.italic{font-style:italic}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-indigo-100{--tw-ring-color:var(--color-indigo-100)}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}@media (hover:hover){.hover\:bg-gray-50:hover{background-color:var(--color-gray-50)}}.focus\:ring-indigo-500:focus{--tw-ring-color:var(--color-indigo-500)}@media (min-width:48rem){.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}}.task-complete{opacity:.6;text-decoration:line-through}.energy-drain{background:linear-gradient(135deg,#fee2e2 0%,#fecaca 100%)}.energy-neutral{background:linear-gradient(135deg,#fef3c7 0%,#fde68a 100%)}.energy-energize{background:linear-gradient(135deg,#d1fae5 0%,#a7f3d0 100%)}.day-card{transition:all .3s}.day-card:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}.progress-ring{transition:stroke-dashoffset .5s}@keyframes pulse{50%{opacity:.5}}.today-indicator{animation:2s infinite pulse}

/* Dark Mode Toggle */
.dark-toggle{position:fixed;top:1rem;right:1rem;z-index:50;padding:0.5rem 0.75rem;border-radius:9999px;background-color:#e5e7eb;cursor:pointer;transition:all 0.3s;border:none;font-size:1.25rem}
.dark .dark-toggle{background-color:#374151}

/* Dark Mode Styles */
.dark{--color-gray-50:#111827;--color-gray-100:#1f2937;--color-gray-200:#374151;--color-gray-300:#4b5563;--color-gray-400:#6b7280;--color-gray-500:#9ca3af;--color-gray-600:#d1d5db;--color-gray-700:#e5e7eb;--color-gray-800:#f3f4f6;--color-gray-900:#f9fafb;--color-white:#1f2937}
.dark .bg-white{background-color:#1f2937}
.dark .bg-gray-50{background-color:#111827}
.dark .text-gray-900{color:#f9fafb}
.dark .text-gray-800{color:#f3f4f6}
.dark .text-gray-700{color:#e5e7eb}
.dark .text-gray-600{color:#d1d5db}
.dark .text-gray-500{color:#9ca3af}
.dark .border-gray-100{border-color:#374151}
.dark .border-gray-300{border-color:#4b5563}
.dark .hover\:bg-gray-50:hover{background-color:#374151}
.dark .bg-white\/80{background-color:rgba(31,41,55,.8)}
.dark .bg-white\/50{background-color:rgba(31,41,55,.5)}
.dark .energy-drain{background:linear-gradient(135deg,#450a0a 0%,#7f1d1d 100%)}
.dark .energy-neutral{background:linear-gradient(135deg,#451a03 0%,#78350f 100%)}
.dark .energy-energize{background:linear-gradient(135deg,#052e16 0%,#14532d 100%)}
.dark .bg-amber-50{background-color:#451a03}
.dark .bg-blue-50{background-color:#172554}
.dark .bg-purple-50{background-color:#2e1065}
.dark .bg-indigo-50{background-color:#1e1b4b}
.dark .bg-indigo-100{background-color:#312e81}
.dark .bg-cyan-50{background-color:#083344}
.dark .bg-emerald-50{background-color:#022c22}
.dark .bg-gray-100{background-color:#374151}
.dark .bg-red-100{background-color:#450a0a}
.dark .bg-yellow-100{background-color:#422006}
.dark .bg-green-100{background-color:#052e16}
.dark .border-amber-100{border-color:#78350f}
.dark .border-blue-100{border-color:#1e3a8a}
.dark .border-purple-100{border-color:#4c1d95}
.dark .border-indigo-300{border-color:#4338ca}
.dark .ring-indigo-100{--tw-ring-color:#312e81}
.dark .text-amber-800{color:#fcd34d}
.dark .text-amber-600{color:#fbbf24}
.dark .text-blue-800{color:#93c5fd}
.dark .text-blue-600{color:#60a5fa}
.dark .text-purple-800{color:#c4b5fd}
.dark .text-purple-600{color:#a78bfa}
.dark .text-indigo-800{color:#a5b4fc}
.dark .text-indigo-700{color:#818cf8}
.dark .text-indigo-600{color:#818cf8}
.dark .text-cyan-800{color:#67e8f9}
.dark .text-cyan-600{color:#22d3ee}
.dark .text-emerald-800{color:#6ee7b7}
.dark .text-emerald-600{color:#34d399}
.dark .text-red-700{color:#fca5a5}
.dark .text-yellow-700{color:#fcd34d}
.dark .text-green-700{color:#86efac}
.dark .text-gray-200{color:#e5e7eb}
.dark .text-gray-400{color:#9ca3af}
.dark .border-indigo-200{border-color:#4338ca}
.dark .bg-gray-700{background-color:#1f2937}
    </style>
</head>
<body class="bg-gray-50 min-h-screen dark">
    <!-- Dark Mode Toggle -->
    <button class="dark-toggle" onclick="toggleDarkMode()" aria-label="Toggle dark mode">
        <span id="theme-icon">‚òÄÔ∏è</span>
    </button>

    <div id="app" class="max-w-6xl mx-auto p-6">
        <!-- Header -->
        <header class="mb-8">
            <div class="flex justify-between items-start">
                <div>
                    <h1 class="text-3xl font-bold text-gray-900">Weekly Action Plan</h1>
                    <p class="text-lg text-gray-600 mt-1" id="week-dates">Week of December 1-7, 2025</p>
                    <p class="text-sm text-indigo-600 font-medium mt-2" id="week-theme">Theme: Infrastructure & Opportunity Capture</p>
                    <div class="flex items-center gap-4 mt-2 text-sm text-gray-500">
                        <span>‚òÄÔ∏è Sunrise: <strong id="sunrise-time">7:09 AM</strong></span>
                        <span>üåÖ Sunset: <strong id="sunset-time">5:30 PM</strong></span>
                        <span>üìç <span id="location-name">Austin, TX</span></span>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-sm text-gray-500">Week Progress</div>
                    <div class="flex items-center gap-3 mt-1">
                        <svg class="w-16 h-16" viewBox="0 0 36 36">
                            <path class="text-gray-200" stroke="currentColor" stroke-width="3" fill="none"
                                d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                            <path id="progress-ring" class="text-indigo-600 progress-ring" stroke="currentColor" stroke-width="3" fill="none"
                                stroke-dasharray="0, 100"
                                d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/>
                        </svg>
                        <span id="progress-text" class="text-2xl font-bold text-gray-900">0%</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Daily Energy Flow -->
        <section class="mb-8 bg-white rounded-xl p-6 shadow-sm border border-gray-100">
            <h2 class="text-lg font-semibold text-gray-800 mb-4">üåÖ Daily Energy Flow <span class="text-sm font-normal text-gray-500" id="time-mode-label"></span></h2>
            <div class="grid grid-cols-3 gap-4">
                <div class="p-4 bg-amber-50 rounded-lg border border-amber-100">
                    <div class="font-medium text-amber-800">Morning (Until <span id="morning-end"></span>)</div>
                    <div class="text-sm text-amber-600 mt-1">Sacred spiritual practice - foundation</div>
                </div>
                <div class="p-4 bg-blue-50 rounded-lg border border-blue-100">
                    <div class="font-medium text-blue-800">Afternoon (<span id="afternoon-range"></span>)</div>
                    <div class="text-sm text-blue-600 mt-1">Peak performance deep work</div>
                </div>
                <div class="p-4 bg-purple-50 rounded-lg border border-purple-100">
                    <div class="font-medium text-purple-800">Evening (<span id="evening-range"></span>)</div>
                    <div class="text-sm text-purple-600 mt-1">Future building - learning & strategy</div>
                </div>
            </div>
        </section>

        <!-- Timer Panel (dynamically rendered) -->
        <div id="timer-panel"></div>

        <!-- Weekly Anchors -->
        <section class="mb-8">
            <h2 class="text-lg font-semibold text-gray-800 mb-4">üéØ Weekly Anchors</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="anchors-container"></div>
        </section>

        <!-- Daily Schedule -->
        <section class="mb-8">
            <h2 class="text-lg font-semibold text-gray-800 mb-4">üóìÔ∏è Daily Deep Work Schedule</h2>
            <div class="grid grid-cols-1 gap-4" id="days-container"></div>
        </section>

        <!-- Learning Schedule -->
        <section class="mb-8 bg-white rounded-xl p-6 shadow-sm border border-gray-100">
            <h2 class="text-lg font-semibold text-gray-800 mb-4">üß† Learning Schedule</h2>
            <div class="grid grid-cols-3 gap-4" id="learning-container"></div>
            <div class="mt-4 text-sm text-gray-500">
                <strong>Target:</strong> <span id="weekly-evening-target"></span> evening time this week
            </div>
        </section>

        <!-- Week Intention -->
        <section class="bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl p-6 text-white">
            <h2 class="text-lg font-semibold mb-2">üí≠ Week Intention</h2>
            <p class="text-indigo-100" id="week-intention">Complete Gauntlet application and establish the sGTM skill foundation. Success = application submitted + RTT tracking framework documented + Miracle Academy auth fixed.</p>
        </section>
    </div>

    <script>
        // DST Detection
        function isDST(date) {
            const year = date.getFullYear();
            const marchFirst = new Date(year, 2, 1);
            const dstStart = new Date(year, 2, (14 - marchFirst.getDay()) % 7 + 8);
            const novFirst = new Date(year, 10, 1);
            const dstEnd = new Date(year, 10, (7 - novFirst.getDay()) % 7 + 1);
            return date >= dstStart && date < dstEnd;
        }

        const currentDate = new Date();
        const isDaylightTime = isDST(currentDate);
        
        const timeBlocks = isDaylightTime ? {
            morningEnd: "1pm",
            afternoonStart: "1pm",
            afternoonEnd: "6pm",
            eveningStart: "7pm",
            eveningEnd: "9pm",
            deepWorkHours: "5hrs",
            weeklyEveningTarget: "5-10hrs",
            label: "Daylight Saving Time"
        } : {
            morningEnd: "11am",
            afternoonStart: "12pm",
            afternoonEnd: "5pm",
            eveningStart: "6pm",
            eveningEnd: "9pm",
            deepWorkHours: "5hrs",
            weeklyEveningTarget: "10-15hrs",
            label: "Standard Time"
        };

        const anchors = [
            {
                name: "Strategic Opportunities",
                outcome: "Gauntlet Application submitted + Organized Job Board operational",
                priority: "P0",
                estimatedTime: "4-6 hrs",
                energyType: "energize",
                tasks: [
                    { id: 1, name: "Gauntlet Application", hours: "1-2", energy: "energize", day: "Sunday" },
                    { id: 2, name: "Organized Job Board Scrape", hours: "2-3", energy: "neutral", day: "Sunday" },
                    { id: 8, name: "Fix Standup Desk Motor", hours: "0.5-1", energy: "neutral", day: "Sunday" }
                ]
            },
            {
                name: "RTT Infrastructure",
                outcome: "sGTM skill created + Stape approach documented",
                priority: "P1",
                estimatedTime: "6-8 hrs",
                energyType: "neutral",
                tasks: [
                    { id: 3, name: "sGTM Skill & Approach Creation", hours: "3-4", energy: "neutral", day: "Monday" },
                    { id: 4, name: "CAPI Gateway Documentation", hours: "2", energy: "neutral", day: "Tuesday" },
                    { id: 5, name: "RTT Tracking Framework", hours: "2", energy: "neutral", day: "Wednesday" }
                ]
            },
            {
                name: "Product Development",
                outcome: "Miracle Academy persistent storage working",
                priority: "P1",
                estimatedTime: "4-6 hrs",
                energyType: "drain",
                tasks: [
                    { id: 6, name: "Supabase Auth Troubleshooting", hours: "2-3", energy: "drain", day: "Tuesday" },
                    { id: 7, name: "Persistent Storage Implementation", hours: "2-3", energy: "drain", day: "Thursday" }
                ]
            }
        ];

        const days = [
            { name: "SUNDAY", date: "Dec 1", isToday: true, tasks: [1, 2, 8], reasoning: "Start week strong with energizing strategic tasks", evening: "sGTM research prep + plan Monday" },
            { name: "MONDAY", date: "Dec 2", isToday: false, tasks: [3], reasoning: "Deep work on skill creation while fresh", evening: "Continue sGTM documentation" },
            { name: "TUESDAY", date: "Dec 3", isToday: false, tasks: [4, 6], reasoning: "Mix neutral + drain tasks for balance", evening: "Supabase auth patterns study" },
            { name: "WEDNESDAY", date: "Dec 4", isToday: false, tasks: [5], reasoning: "Complete RTT framework documentation", evening: "Learning + EP-133 practice" },
            { name: "THURSDAY", date: "Dec 5", isToday: false, tasks: [7], reasoning: "Final push on Miracle Academy", evening: "Review + polish implementations" },
            { name: "FRIDAY", date: "Dec 6", isToday: false, tasks: [], reasoning: "Buffer day + catch-up on any incomplete tasks", evening: "Strategic Growth System Review" }
        ];

        let completedTasks = JSON.parse(localStorage.getItem('weekDec1Tasks') || '[]');

        function getAllTasks() { return anchors.flatMap(a => a.tasks); }

        function renderAnchors() {
            const container = document.getElementById('anchors-container');
            container.innerHTML = anchors.map((anchor, idx) => {
                const completedCount = anchor.tasks.filter(t => completedTasks.includes(t.id)).length;
                const progress = Math.round((completedCount / anchor.tasks.length) * 100);
                return `
                    <div class="bg-white rounded-xl p-5 shadow-sm border border-gray-100 energy-${anchor.energyType}">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <h3 class="font-semibold text-gray-900">Anchor ${idx + 1}: ${anchor.name}</h3>
                                <p class="text-sm text-gray-600 mt-1">${anchor.outcome}</p>
                            </div>
                            <span class="px-2 py-1 text-xs font-medium bg-white/80 rounded">${anchor.priority}</span>
                        </div>
                        <div class="flex items-center gap-4 text-sm">
                            <span class="text-gray-500">‚è±Ô∏è ${anchor.estimatedTime}</span>
                            <span class="text-gray-500">${completedCount}/${anchor.tasks.length} tasks</span>
                            <div class="flex-1 bg-white/50 rounded-full h-2">
                                <div class="bg-gray-700 h-2 rounded-full transition-all" style="width: ${progress}%"></div>
                            </div>
                            <span class="font-medium">${progress}%</span>
                        </div>
                    </div>`;
            }).join('');
        }

        function renderDays() {
            const container = document.getElementById('days-container');
            const allTasks = getAllTasks();
            const hours = `${timeBlocks.afternoonStart}-${timeBlocks.afternoonEnd} | ${timeBlocks.deepWorkHours}`;
            
            container.innerHTML = days.map(day => {
                const dayTasks = day.tasks.map(id => allTasks.find(t => t.id === id)).filter(Boolean);
                const evening = `${day.evening} (${timeBlocks.eveningStart}-${timeBlocks.eveningEnd})`;
                
                return `
                    <div class="day-card bg-white rounded-xl p-5 shadow-sm border ${day.isToday ? 'border-indigo-300 ring-2 ring-indigo-100' : 'border-gray-100'}">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="font-semibold text-gray-900 flex items-center gap-2">
                                    ${day.name}
                                    ${day.isToday ? '<span class="today-indicator px-2 py-0.5 text-xs bg-indigo-100 text-indigo-700 rounded-full">TODAY</span>' : ''}
                                </h3>
                                <p class="text-sm text-gray-500">${day.date} ‚Ä¢ ${hours}</p>
                            </div>
                        </div>
                        <div class="space-y-2 mb-4">
                            ${dayTasks.length > 0 ? dayTasks.map(task => `
                                <label class="flex items-center gap-3 p-3 rounded-lg cursor-pointer hover:bg-gray-50 energy-${task.energy}">
                                    <input type="checkbox" ${completedTasks.includes(task.id) ? 'checked' : ''} onchange="toggleTask(${task.id})" class="w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                    <span class="${completedTasks.includes(task.id) ? 'task-complete' : ''} flex-1">
                                        <span class="font-medium text-gray-900">${task.name}</span>
                                        <span class="text-sm text-gray-500 ml-2">(${task.hours}hrs)</span>
                                    </span>
                                    <span class="text-xs px-2 py-1 rounded ${task.energy === 'drain' ? 'bg-red-100 text-red-700' : task.energy === 'neutral' ? 'bg-yellow-100 text-yellow-700' : 'bg-green-100 text-green-700'}">
                                        ${task.energy === 'drain' ? 'üî¥' : task.energy === 'neutral' ? 'üü°' : 'üü¢'} ${task.energy}
                                    </span>
                                </label>`).join('') : '<p class="text-sm text-gray-400 italic p-3">Buffer day - catch up or get ahead</p>'}
                        </div>
                        <div class="text-sm text-gray-600 border-t pt-3">
                            <p class="mb-1"><strong>Why ${day.name.toLowerCase()}:</strong> ${day.reasoning}</p>
                            <p class="text-purple-600">üåô Evening: ${evening}</p>
                        </div>
                    </div>`;
            }).join('');
        }

        function renderLearning() {
            document.getElementById('learning-container').innerHTML = `
                <div class="p-4 bg-indigo-50 rounded-lg"><div class="font-medium text-indigo-800">Primary</div><div class="text-sm text-indigo-600 mt-1">sGTM & Server-Side Tagging</div></div>
                <div class="p-4 bg-cyan-50 rounded-lg"><div class="font-medium text-cyan-800">Secondary</div><div class="text-sm text-cyan-600 mt-1">Supabase Auth Patterns</div></div>
                <div class="p-4 bg-emerald-50 rounded-lg"><div class="font-medium text-emerald-800">Maintenance</div><div class="text-sm text-emerald-600 mt-1">EP-133 Music Production</div></div>`;
        }

        function updateProgress() {
            const allTasks = getAllTasks();
            const progress = Math.round((completedTasks.length / allTasks.length) * 100);
            document.getElementById('progress-text').textContent = `${progress}%`;
            document.getElementById('progress-ring').setAttribute('stroke-dasharray', `${progress}, 100`);
        }

        function toggleTask(taskId) {
            if (completedTasks.includes(taskId)) {
                completedTasks = completedTasks.filter(id => id !== taskId);
            } else {
                completedTasks.push(taskId);
            }
            localStorage.setItem('weekDec1Tasks', JSON.stringify(completedTasks));
            render();
        }

        // Timer System
        let activeTimer = null;
        let timerInterval = null;
        let timerStartTime = null;
        let timerElapsed = 0;
        let taskTimeLogs = JSON.parse(localStorage.getItem('weekDec1TimeLogs') || '{}');

        function formatTime(ms) {
            const totalSeconds = Math.floor(ms / 1000);
            const hours = Math.floor(totalSeconds / 3600);
            const minutes = Math.floor((totalSeconds % 3600) / 60);
            const seconds = totalSeconds % 60;
            return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        function formatTimeShort(ms) {
            const totalMinutes = Math.floor(ms / 60000);
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            if (hours > 0) return `${hours}h ${minutes}m`;
            return `${minutes}m`;
        }

        function requestNotificationPermission() {
            if ('Notification' in window && Notification.permission === 'default') {
                Notification.requestPermission();
            }
        }

        function sendNotification(title, body, tag = 'timer') {
            if ('Notification' in window && Notification.permission === 'granted') {
                const notification = new Notification(title, {
                    body: body,
                    icon: '‚è±Ô∏è',
                    tag: tag,
                    requireInteraction: true
                });
                notification.onclick = () => {
                    window.focus();
                    notification.close();
                };
            }
        }

        function startTimer(taskId) {
            const allTasks = getAllTasks();
            const task = allTasks.find(t => t.id === taskId);
            if (!task) return;

            // Stop any existing timer
            if (activeTimer !== null) {
                stopTimer(false);
            }

            activeTimer = taskId;
            timerStartTime = Date.now();
            timerElapsed = taskTimeLogs[taskId]?.elapsed || 0;

            // Update UI
            updateTimerDisplay();
            timerInterval = setInterval(updateTimerDisplay, 1000);

            // Send notification
            sendNotification('‚è±Ô∏è Timer Started', `Now tracking: ${task.name}`, 'timer-start');

            render();
        }

        function stopTimer(notify = true) {
            if (activeTimer === null) return;

            const allTasks = getAllTasks();
            const task = allTasks.find(t => t.id === activeTimer);
            const elapsed = timerElapsed + (Date.now() - timerStartTime);

            // Save time log
            if (!taskTimeLogs[activeTimer]) {
                taskTimeLogs[activeTimer] = { logs: [], elapsed: 0 };
            }
            taskTimeLogs[activeTimer].logs.push({
                start: timerStartTime,
                end: Date.now(),
                duration: Date.now() - timerStartTime
            });
            taskTimeLogs[activeTimer].elapsed = elapsed;
            localStorage.setItem('weekDec1TimeLogs', JSON.stringify(taskTimeLogs));

            // Send notification
            if (notify && task) {
                sendNotification('‚èπÔ∏è Timer Stopped', `${task.name}: ${formatTimeShort(elapsed)} total`, 'timer-stop');
            }

            clearInterval(timerInterval);
            activeTimer = null;
            timerStartTime = null;
            timerInterval = null;

            render();
        }

        function resetTimer(taskId) {
            if (activeTimer === taskId) {
                stopTimer(false);
            }
            delete taskTimeLogs[taskId];
            localStorage.setItem('weekDec1TimeLogs', JSON.stringify(taskTimeLogs));
            render();
        }

        function updateTimerDisplay() {
            const timerEl = document.getElementById('active-timer-display');
            if (timerEl && activeTimer !== null) {
                const elapsed = timerElapsed + (Date.now() - timerStartTime);
                timerEl.textContent = formatTime(elapsed);
            }
        }

        function getTaskTime(taskId) {
            return taskTimeLogs[taskId]?.elapsed || 0;
        }

        function renderTimerPanel() {
            const allTasks = getAllTasks();
            const activeTask = activeTimer !== null ? allTasks.find(t => t.id === activeTimer) : null;
            
            return `
                <section class="mb-8 bg-white rounded-xl p-6 shadow-sm border border-gray-100">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold text-gray-800">‚è±Ô∏è Task Timer</h2>
                        <button onclick="requestNotificationPermission()" class="text-xs px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-lg text-gray-600 transition-all">
                            üîî Enable Notifications
                        </button>
                        <button id="install-btn" onclick="installPWA()" style="display:none" class="text-xs px-3 py-1 bg-indigo-100 hover:bg-indigo-200 rounded-lg text-indigo-600 transition-all">
                            üì≤ Install App
                        </button>
                    </div>
                    
                    ${activeTask ? `
                        <div class="bg-indigo-50 border border-indigo-200 rounded-xl p-4 mb-4">
                            <div class="flex justify-between items-center">
                                <div>
                                    <div class="text-sm text-indigo-600 font-medium">Currently Tracking</div>
                                    <div class="text-lg font-semibold text-gray-900">${activeTask.name}</div>
                                </div>
                                <div class="text-right">
                                    <div id="active-timer-display" class="text-3xl font-mono font-bold text-indigo-600">${formatTime(timerElapsed + (Date.now() - timerStartTime))}</div>
                                    <div class="text-xs text-gray-500">Started: ${new Date(timerStartTime).toLocaleTimeString()}</div>
                                </div>
                            </div>
                            <div class="flex gap-2 mt-4">
                                <button onclick="stopTimer()" class="flex-1 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-medium transition-all">
                                    ‚èπÔ∏è Stop Timer
                                </button>
                                <button onclick="resetTimer(${activeTask.id})" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg font-medium transition-all">
                                    üîÑ Reset
                                </button>
                            </div>
                        </div>
                    ` : `
                        <div class="bg-gray-50 border border-gray-200 rounded-xl p-4 mb-4 text-center">
                            <div class="text-gray-400 text-sm">No active timer</div>
                            <div class="text-gray-500 mt-1">Click ‚ñ∂Ô∏è on any task to start tracking</div>
                        </div>
                    `}
                    
                    <div class="mt-4">
                        <h3 class="text-sm font-medium text-gray-700 mb-2">üìä Time Logged Today</h3>
                        <div class="space-y-2">
                            ${allTasks.filter(t => taskTimeLogs[t.id]?.elapsed > 0).map(task => `
                                <div class="flex justify-between items-center p-2 bg-gray-50 rounded-lg">
                                    <span class="text-sm text-gray-700">${task.name}</span>
                                    <div class="flex items-center gap-2">
                                        <span class="text-sm font-mono font-medium text-gray-900">${formatTimeShort(taskTimeLogs[task.id].elapsed)}</span>
                                        <button onclick="resetTimer(${task.id})" class="text-xs text-gray-400 hover:text-red-500">‚úï</button>
                                    </div>
                                </div>
                            `).join('') || '<div class="text-sm text-gray-400 text-center py-2">No time logged yet</div>'}
                        </div>
                    </div>
                </section>
            `;
        }

        function renderDays() {
            const container = document.getElementById('days-container');
            const allTasks = getAllTasks();
            const hours = `${timeBlocks.afternoonStart}-${timeBlocks.afternoonEnd} | ${timeBlocks.deepWorkHours}`;
            
            container.innerHTML = days.map(day => {
                const dayTasks = day.tasks.map(id => allTasks.find(t => t.id === id)).filter(Boolean);
                const evening = `${day.evening} (${timeBlocks.eveningStart}-${timeBlocks.eveningEnd})`;
                
                return `
                    <div class="day-card bg-white rounded-xl p-5 shadow-sm border ${day.isToday ? 'border-indigo-300 ring-2 ring-indigo-100' : 'border-gray-100'}">
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h3 class="font-semibold text-gray-900 flex items-center gap-2">
                                    ${day.name}
                                    ${day.isToday ? '<span class="today-indicator px-2 py-0.5 text-xs bg-indigo-100 text-indigo-700 rounded-full">TODAY</span>' : ''}
                                </h3>
                                <p class="text-sm text-gray-500">${day.date} ‚Ä¢ ${hours}</p>
                            </div>
                        </div>
                        <div class="space-y-2 mb-4">
                            ${dayTasks.length > 0 ? dayTasks.map(task => {
                                const isActive = activeTimer === task.id;
                                const loggedTime = getTaskTime(task.id);
                                return `
                                <div class="flex items-center gap-3 p-3 rounded-lg ${isActive ? 'bg-indigo-100 ring-2 ring-indigo-300' : `hover:bg-gray-50 energy-${task.energy}`}">
                                    <input type="checkbox" ${completedTasks.includes(task.id) ? 'checked' : ''} onchange="toggleTask(${task.id})" class="w-5 h-5 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                                    <span class="${completedTasks.includes(task.id) ? 'task-complete' : ''} flex-1">
                                        <span class="font-medium text-gray-900">${task.name}</span>
                                        <span class="text-sm text-gray-500 ml-2">(${task.hours}hrs)</span>
                                        ${loggedTime > 0 ? `<span class="text-xs text-indigo-600 ml-2">‚è±Ô∏è ${formatTimeShort(loggedTime)}</span>` : ''}
                                    </span>
                                    <button onclick="${isActive ? 'stopTimer()' : `startTimer(${task.id})`}" 
                                        class="px-2 py-1 rounded ${isActive ? 'bg-red-500 text-white' : 'bg-gray-100 hover:bg-indigo-100 text-gray-600 hover:text-indigo-600'} transition-all text-sm font-medium">
                                        ${isActive ? '‚èπÔ∏è' : '‚ñ∂Ô∏è'}
                                    </button>
                                    <span class="text-xs px-2 py-1 rounded ${task.energy === 'drain' ? 'bg-red-100 text-red-700' : task.energy === 'neutral' ? 'bg-yellow-100 text-yellow-700' : 'bg-green-100 text-green-700'}">
                                        ${task.energy === 'drain' ? 'üî¥' : task.energy === 'neutral' ? 'üü°' : 'üü¢'} ${task.energy}
                                    </span>
                                </div>`;
                            }).join('') : '<p class="text-sm text-gray-400 italic p-3">Buffer day - catch up or get ahead</p>'}
                        </div>
                        <div class="text-sm text-gray-600 border-t pt-3">
                            <p class="mb-1"><strong>Why ${day.name.toLowerCase()}:</strong> ${day.reasoning}</p>
                            <p class="text-purple-600">üåô Evening: ${evening}</p>
                        </div>
                    </div>`;
            }).join('');
        }

        function render() {
            document.getElementById('time-mode-label').textContent = `(${timeBlocks.label})`;
            document.getElementById('morning-end').textContent = timeBlocks.morningEnd;
            document.getElementById('afternoon-range').textContent = `${timeBlocks.afternoonStart}-${timeBlocks.afternoonEnd}`;
            document.getElementById('evening-range').textContent = `${timeBlocks.eveningStart}-${timeBlocks.eveningEnd}`;
            document.getElementById('weekly-evening-target').textContent = timeBlocks.weeklyEveningTarget;
            
            // Insert timer panel after energy flow section
            const timerContainer = document.getElementById('timer-panel');
            if (timerContainer) {
                timerContainer.innerHTML = renderTimerPanel();
            }
            
            renderAnchors();
            renderDays();
            renderLearning();
            updateProgress();
        }

        // Dark Mode
        function toggleDarkMode() {
            const body = document.body;
            const icon = document.getElementById('theme-icon');
            body.classList.toggle('dark');
            const isDark = body.classList.contains('dark');
            icon.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('plannerDarkMode', isDark ? 'true' : 'false');
        }

        function initDarkMode() {
            const savedMode = localStorage.getItem('plannerDarkMode');
            // Default to dark mode
            const shouldBeDark = savedMode !== 'false';

            if (shouldBeDark) {
                document.body.classList.add('dark');
                document.getElementById('theme-icon').textContent = '‚òÄÔ∏è';
            } else {
                document.body.classList.remove('dark');
                document.getElementById('theme-icon').textContent = 'üåô';
            }
        }

        // Initialize dark mode
        initDarkMode();

        // Request notification permission on load
        requestNotificationPermission();

        render();

        // Register Service Worker for PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then((registration) => {
                        console.log('SW registered:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('SW registration failed:', error);
                    });
            });
        }

        // PWA Install Prompt
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            // Show install button in UI
            const installBtn = document.getElementById('install-btn');
            if (installBtn) installBtn.style.display = 'block';
        });

        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('User accepted install');
                    }
                    deferredPrompt = null;
                });
            }
        }
    </script>
</body>
</html>
